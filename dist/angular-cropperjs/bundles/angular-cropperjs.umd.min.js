!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("cropperjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-cropperjs",["exports","@angular/core","cropperjs","@angular/common"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["angular-cropperjs"]={},e.ng.core,e.Cropper,e.ng.common)}(this,(function(e,r,o,t){"use strict";function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=p(o),n=function(){};n.ɵfac=function(e){return new(e||n)},n.ɵprov=r.ɵɵdefineInjectable({token:n,factory:n.ɵfac,providedIn:"root"});var a=["image"];function c(e,o){1&e&&(r.ɵɵelementStart(0,"div",6),r.ɵɵelement(1,"div",7),r.ɵɵelementEnd())}function s(e,o){if(1&e&&(r.ɵɵelementStart(0,"div",8),r.ɵɵtext(1),r.ɵɵelementEnd()),2&e){var t=r.ɵɵnextContext();r.ɵɵadvance(1),r.ɵɵtextInterpolate(t.loadImageErrorText)}}var l=function(){function e(){this.cropperOptions={},this.export=new r.EventEmitter,this.ready=new r.EventEmitter,this.isLoading=!0}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},e.prototype.imageLoaded=function(e){var r=this;this.loadError=!1;var o=e.target;this.imageElement=o,this.cropperOptions.checkCrossOrigin&&(o.crossOrigin="anonymous"),o.addEventListener("ready",(function(){r.ready.emit(!0),r.isLoading=!1,r.cropbox&&r.cropper.setCropBoxData(r.cropbox)}));var t=NaN;if(this.settings){var p=this.settings;t=p.width/p.height}this.cropperOptions=Object.assign({aspectRatio:t,movable:!1,scalable:!1,zoomable:!1,viewMode:1,checkCrossOrigin:!0},this.cropperOptions),this.cropper&&(this.cropper.destroy(),this.cropper=void 0),this.cropper=new i.default(o,this.cropperOptions)},e.prototype.imageLoadError=function(e){this.loadError=!0,this.isLoading=!1},e.prototype.exportCanvas=function(e){var r=this,o=this.cropper.getImageData(),t=this.cropper.getCropBoxData(),p=this.cropper.getCroppedCanvas(),i={imageData:o,cropData:t};new Promise((function(r){if(e)return r({dataUrl:p.toDataURL("image/png")});p.toBlob((function(e){return r({blob:e})}))})).then((function(e){r.export.emit(Object.assign(i,e))}))},e}();l.ɵfac=function(e){return new(e||l)},l.ɵcmp=r.ɵɵdefineComponent({type:l,selectors:[["angular-cropper"]],viewQuery:function(e,o){if(1&e&&r.ɵɵstaticViewQuery(a,!0,r.ElementRef),2&e){var t;r.ɵɵqueryRefresh(t=r.ɵɵloadQuery())&&(o.image=t.first)}},inputs:{imageUrl:"imageUrl",settings:"settings",cropbox:"cropbox",loadImageErrorText:"loadImageErrorText",cropperOptions:"cropperOptions"},outputs:{export:"export",ready:"ready"},decls:6,vars:3,consts:[[1,"cropper-wrapper"],["class","loading-block",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"cropper"],["alt","image",3,"src","load","error"],["image",""],[1,"loading-block"],[1,"spinner"],[1,"alert","alert-warning"]],template:function(e,o){1&e&&(r.ɵɵelementStart(0,"div",0),r.ɵɵtemplate(1,c,2,0,"div",1),r.ɵɵtemplate(2,s,2,1,"div",2),r.ɵɵelementStart(3,"div",3),r.ɵɵelementStart(4,"img",4,5),r.ɵɵlistener("load",(function(e){return o.imageLoaded(e)}))("error",(function(e){return o.imageLoadError(e)})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()),2&e&&(r.ɵɵadvance(1),r.ɵɵproperty("ngIf",o.isLoading),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",o.loadError),r.ɵɵadvance(2),r.ɵɵproperty("src",o.imageUrl,r.ɵɵsanitizeUrl))},directives:[t.NgIf],styles:[':host{display:block}.cropper img{height:auto;max-height:100%;max-width:100%}.cropper-wrapper{min-height:80px;position:relative}.cropper-wrapper .loading-block{height:100%;left:0;position:absolute;top:0;width:100%}.cropper-wrapper .loading-block .spinner{-webkit-animation:cssload-spin 425ms linear infinite;animation:cssload-spin 425ms linear infinite;border-color:rgba(97,100,193,.98) transparent;border-radius:50%;border-style:solid;border-width:2px;height:31px;left:calc(50% - 15px);margin:0 auto;position:absolute;top:calc(50% - 15px);width:31px}@-webkit-keyframes cssload-spin{to{transform:rotate(1turn)}}@keyframes cssload-spin{to{transform:rotate(1turn)}}\n\n/*!\n * Cropper.js v1.4.1\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2018-07-15T09:54:43.167Z\n */.cropper-container{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}'],encapsulation:2});var d=function(){};d.ɵmod=r.ɵɵdefineNgModule({type:d}),d.ɵinj=r.ɵɵdefineInjector({factory:function(e){return new(e||d)},imports:[[t.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&r.ɵɵsetNgModuleScope(d,{declarations:[l],imports:[t.CommonModule],exports:[l]}),e.AngularCropperjsModule=d,e.AngularCropperjsService=n,e.CropperComponent=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-cropperjs.umd.min.js.map